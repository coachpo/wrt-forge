Bootstrap: docker
From: ubuntu:22.04

%post
    set -eux
    export DEBIAN_FRONTEND=noninteractive
    dpkg --add-architecture i386 || true
    apt-get update
    apt-get full-upgrade -y || true
    apt-get install -y --no-install-recommends ack antlr3 asciidoc autoconf automake autopoint binutils bison build-essential bzip2 ccache clang cmake cpio curl device-tree-compiler ecj fastjar flex gawk gettext  gcc-multilib g++-multilib git libgnutls28-dev gperf haveged help2man intltool  lib32gcc-s1 libc6-dev-i386 libelf-dev libglib2.0-dev libgmp-dev libltdl-dev  libmpc-dev libmpfr-dev libncurses-dev libpython3-dev libreadline-dev libssl-dev  libtool libyaml-dev locales zlib1g-dev lld llvm lrzsz genisoimage nano ninja-build  p7zip p7zip-full patch pkgconf python3 python3-pip python3-ply python3-docutils  python3-pyelftools qemu-utils re2c rsync scons squashfs-tools subversion swig texinfo uglifyjs upx-ucl unzip vim wget xmlto xxd zstd
    echo "en_US.UTF-8 UTF-8" > /etc/locale.gen
    locale-gen
    update-locale LANG=en_US.UTF-8 LC_ALL=en_US.UTF-8
    apt-get clean
    rm -rf /var/lib/apt/lists/*

%environment
    export LANG=en_US.UTF-8
    export LC_ALL=en_US.UTF-8
    export LANGUAGE=en_US:en

%runscript
    exec /bin/bash bash
